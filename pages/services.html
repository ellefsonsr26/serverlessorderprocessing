<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order</title>
  <link rel="stylesheet" href="../styles/order.css">
<script src="../javascript/auth.js"></script> <!-- Link to shared JavaScript file -->
    <!-- Include the jwt-decode library -->
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
    <!-- Link to the external navbar script -->
    <script src="../javascript/navbar2.js"></script>
</head>
<body>
   <script>
    document.addEventListener("DOMContentLoaded", function () {
        enforceAuthentication(); // Redirects to login if user is not authenticated
    });
</script>
  <div id="auth-section"> <!-- displays login and logout button -->
        <button id="login-button" onclick="redirectToLogin()">Login</button>
        <span id="username-display" style="display: none;"></span>
        <button id="logout-button" onclick="logout()" style="display: none;">Logout</button>
    </div>
  <!-- Navbar -->
  <div class="navbar">
    <a href="../index.html">Home</a>
    <a href="services.html">Order</a>
    <!-- Placeholder for dynamic admin link -->
  </div>
    <!-- Error container -->
    <div id="error-container"></div>

    <!-- Category containers -->
     <h2>Pizzas</h2>
    <div id="category-pizza" class="category-container"></div>
   <h2>Wings</h2>
    <div id="category-wings" class="category-container"></div>
   <h2>Breadsticks</h2>
    <div id="category-breadsticks" class="category-container"></div>
    <!-- Add cart icon and popup here -->
    <!-- Cart Icon -->
    <div id="cart-icon" onclick="toggleCartPopup()">
        <img src="cart-icon.png" alt="Cart">
        <span id="cart-count">0</span>
    </div>

    <!-- Cart Popup -->
    <div id="cart-popup" class="hidden">
        <h3>Your Cart</h3>
        <div id="cart-contents">
            <!-- Cart items will be dynamically inserted here -->
        </div>
        <p><strong>Total:</strong> $<span id="cart-total">0.00</span></p>
        <button onclick="checkout()">Checkout</button>
    </div>

    <!-- Include external JavaScript -->
    <script src="../javascript/fetchProducts.js"></script>
    <script src="../javascript/cart.js"></script>

</body>
</html>

